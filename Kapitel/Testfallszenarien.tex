\chapter{Testfallszenarien}

\section{Testfälle}
Folgende Testfälle testen die Musskriterien:
\renewcommand{\labelenumi}{/T\arabic{enumi}0/}
\begin{enumerate}
    \item \glspl{Workflow} anzeigen
        \\ \textbf{Stand:} Der \Gls{Nutzer} ist angemeldet
        \\ \textbf{Aktion:} Direkt nach der Anmeldung keine Aktion notwendig. Sonst klickt der \Gls{Nutzer} auf \enquote{Workflowübersicht}
        \\ \textbf{Reaktion:} Die Workflowübersicht mit den \glspl{Workflow} wird angezeigt
    \item \glspl{Workflow Schablone} anzeigen
        \\ \textbf{Stand:} Der \Gls{Nutzer} ist angemeldet
        \\ \textbf{Aktion:} Direkt nach der Anmeldung keine Aktion notwendig. Sonst klickt der \Gls{Nutzer} auf \enquote{Workflowübersicht}
        \\ \textbf{Reaktion:} Die Workflowübersicht mit den \glspl{Workflow Schablone} wird angezeigt
    \item \gls{Workflow Schablone} anlegen
        \\ \textbf{Stand:} Geöffnete Workflowübersicht
        \\ \textbf{Aktion:} Der \Gls{Nutzer} klickt auf den \enquote{Neuen Workflow erstellen}-Knopf
        \\ \textbf{Reaktion:} Der \Gls{Nutzer} wird auf die Workflowerstellungsseite weitergeleitet
        \textcolor{red} {
    \item Unberechtigt \gls{Workflow Schablone} anlegen
        \\ \textbf{Stand:} Geöffnete Workflowübersicht
        \\ \textbf{Aktion:} Ein \Gls{Reviewer} klickt auf den \enquote{Neuen Workflow erstellen}-Knopf
        \\ \textbf{Reaktion:} Eine Nachricht über das Fehlen von Editierrechten wird angezeigt und der \Gls{Reviewer} wird nicht weitergeleitet (siehe \ref{begT40})
        }
    \item \gls{Workflow Schablone} exportieren
        \\ \textbf{Stand:} Ausgewählter \gls{Workflow Schablone} wird angezeigt
        \\ \textbf{Aktion:} Der \gls{Nutzer} klickt auf den \enquote{Workflow exportieren}-Knopf
        \\ \textbf{Reaktion:} Eine .yml oder .json Datei wird heruntergeladen
    \item \gls{Workflow} exportieren
        \\ \textbf{Stand:} Ausgewählter \gls{Workflow} wird angezeigt
        \\ \textbf{Aktion:} Der \gls{Nutzer} \textcolor{red}{klickt auf den \enquote{Workflow exportieren}-Knopf} \textcolor{blue}{klickt auf den \enquote{Save As}-Knopf. Danach navigiert er zum Result Explorer und exportiert die Ergebnisse der Instanz. (siehe \ref{begT60})}
        \\ \textbf{Reaktion:} Eine \textcolor{red}{.yml oder .json} \textcolor{blue}{DAG-Definition-Datei und eine zip-}Datei \textcolor{red}{wird} \textcolor{blue}{werden} heruntergeladen
    \item \gls{Workflow}-Informationen einsehen
        \\ \textbf{Stand:} Geöffnete Workflowübersicht
        \\ \textbf{Aktion:} Der \gls{Nutzer} klickt auf den \enquote{Workflow Information}-Knopf
        \\ \textbf{Reaktion:} Eine Übersicht über die Attribute der \gls{Workflow} wird angezeigt
    \item \gls{Workflow Schablone} umbenennen
        \\ \textbf{Stand:} Geöffnete Workflowübersicht
        \\ \textbf{Aktion:} Der \gls{Nutzer} klickt auf den \enquote{Namen ändern}-Knopf und gibt unter \enquote{Workflow Name} den neuen Namen des \glspl{Workflow Schablone} ein
        \\ \textbf{Reaktion:} Der Name des Workflows wird geändert
    \item \gls{Workflow Schablone} importieren
        \\ \textbf{Stand:} Der \gls{Nutzer} ist auf der Workflowerstellungsseite 
        \\ \textbf{Aktion:} Der \gls{Nutzer} lädt eine gültige .yml oder .json Datei hoch 
        \\ \textbf{Reaktion:} Der \gls{Workflow Schablone} wird zur Liste der Workflows hinzugefügt
    \item \textcolor{red}{Konfiguration einer noch nicht gestarteten \gls{Workflow}} \textcolor{blue}{Konfigurtationsdatei} bearbeiten (siehe \ref{begT100}) 
        \\ \textbf{Stand:} Der \gls{Nutzer} ist auf der\textcolor{red}{Workflowbearbeitungsseite} \textcolor{blue}{Übersicht aller Konfigurationsdateien} 
        \\ \textbf{Aktion:} Der \gls{Nutzer} wählt eine Konfigurationsdatei aus und bearbeitet einen der Parameter im Texteditor
        \\ \textbf{Reaktion:} \textcolor{red}{Der neue Parameter für die ausgewählte \gls{Workflow} wird übernommen} \textcolor{blue}{Die Geänderte Konfig datei wird unter neuem namen abgespeichert und kann in der Parameterauswahl ausgewählt werden}
    \item Daten von abgeschlossenen \glspl{Workflow} herunterladen
        \textcolor{red}{
        \\ \textbf{Stand:} geöffnete Downloadseite
        \\ \textbf{Aktion:} Daten werden ausgewählt und der \enquote{Download}-Knopf wird gedrückt
        \\ \textbf{Reaktion:} Die ausgewählten Daten werden als Archiv Datei heruntergeladen}
        \textcolor{blue}{
        \\ \textbf{Stand:} geöffnete Workflowübersichtsseite
        \\ \textbf{Aktion:} der \enquote{Download}-Knopf wird gedrückt. Es wird zur Metadatenansicht navigiert. Der \enquote{Download}-Knopf wird gedrückt.
        \\ \textbf{Reaktion:} Die Workflowergebnisse werden als Archivdatei heruntergeladen. Die Metadaten werden als .json Datei heruntergeladen. (siehe \ref{begT110})
        }
    \item Anmelden
        \\ \textbf{Stand:} Login-Seite wird angezeigt
        \\ \textbf{Aktion:} Der \gls{Nutzer} trägt seine korrekten Daten ein und bestätigt sie
        \\ \textbf{Reaktion:} Der \gls{Nutzer} wird auf die Startseite gebracht
    \item \gls{Workflow} starten
        \\ \textbf{Stand:} Geöffnete Workflowübersicht 
        \\ \textbf{Aktion:} \enquote{Starten}-Knopf einer \gls{Workflow} wird gedrückt
        \\ \textbf{Reaktion:} \gls{Workflow} wird gestartet
    \item \gls{Workflow} abbrechen
        \\ \textbf{Stand:} Geöffnete Workflowübersicht
        \\ \textbf{Aktion:} \enquote{Stop}-Knopf einer \gls{Workflow} wird gedrückt
        \\ \textbf{Reaktion:} Ausführung der \gls{Workflow} wird unterbrochen
    \item \gls{Workflow Schablone} löschen
        \\ \textbf{Stand:} Geöffnete Workflowübersicht
        \\ \textbf{Aktion:} \enquote{Löschen}-Knopf eines \glspl{Workflow Schablone} wird gedrückt
        \\ \textbf{Reaktion:} \gls{Workflow Schablone} wird gelöscht und aus der Liste der Workflows gelöscht
    \textcolor{red}{
    \item Noch nicht gestartete \gls{Workflow} löschen (siehe \ref{begT160})
        \\ \textbf{Stand:} Geöffnete Workflowübersicht
        \\ \textbf{Aktion:} \enquote{Löschen}-Knopf einer \glspl{Workflow} wird gedrückt
        \\ \textbf{Reaktion:} \gls{Workflow} wird gelöscht und aus der Liste der Workflows gelöscht 
        }
    \item Benachrichtigen bei Fehlschlag einer \gls{Workflow}
        \\ \textbf{Stand:} Gestartete \gls{Workflow} schlägt auf Grund eines Fehlers fehl
        \\ \textbf{Aktion:} Keine Aktion vom \gls{Nutzer} notwendig
        \\ \textbf{Reaktion:} Der \gls{Nutzer}, der die \gls{Workflow} gestartet hat, bekommt eine Benachrichtigung angezeigt, dass die gestartete \gls{Workflow} fehlgeschlagen ist
    \item Registrieren
        \\ \textbf{Stand:} Registrierungsseite
        \\ \textbf{Aktion:} Registrierungsformular wird ausgefüllt und bestätigt
        \\ \textbf{Reaktion:} Neues Benutzerkonto wird angelegt und man wird auf die Login-Seite weitergeleitet
    \item Passwort zurücksetzen
        \\ \textbf{Stand:} Geöffnete Nutzerverwaltung eines Benutzerkontos
        \\ \textbf{Aktion:} \enquote{Passwort zurücksetzten}-Knopf wird gedrückt und neues Passwort wird eingegeben
        \\ \textbf{Reaktion:} Ausgewähltes Benutzerkonto erhält neues Passwort
    \item Nutzerrechte anpassen
        \\ \textbf{Stand:} Geöffnete Nutzerverwaltung eines Benutzerkontos
        \\ \textbf{Aktion:} \enquote{Nutzerrechte anpassen}-Knopf wird gedrückt und das Benutzerkonto wird auf den Status eines \Gls{Admin} gesetzt
        \\ \textbf{Reaktion:} Ausgewähltes Benutzerkonto erhält den \Gls{Admin}-Status
    \item Account löschen
        \\ \textbf{Stand:} Geöffnete Nutzerverwaltung eines Benutzerkontos
        \\ \textbf{Aktion:} \enquote{Account löschen}-Knopf wird gedrückt
        \\ \textbf{Reaktion:} Ausgewähltes Benutzerkonto, mit seinen Daten, wird gelöscht
    \item Account sperren
        \\ \textbf{Stand:} Geöffnete Nutzerverwaltung eines Benutzerkontos
        \\ \textbf{Aktion:} \enquote{Account sperren}-Knopf wird gedrückt
        \\ \textbf{Reaktion:} Ausgewähltes Benutzerkonto wird vom Anmelden abgehalten
    \item Account entsperren
        \\ \textbf{Stand:} Geöffnete Nutzerverwaltung eines gesperrten Benutzerkontos
        \\ \textbf{Aktion:} \enquote{Account entsperren}-Knopf wird gedrückt
        \\ \textbf{Reaktion:} Ausgewähltes Benutzerkonto kann sich erneut anmelden
    \item Änderung der Limits
        \\ \textbf{Stand:} Geöffnete Administrationsseite
        \\ \textbf{Aktion:} \enquote{Limits anpassen}-Knopf gedrückt
        \\ \textbf{Reaktion:} \gls{Admin} wird ein Fenster oder Textfeld zum Anpassen der Limits angezeigt
    \item Anzeigen der Ressourcen
        \\ \textbf{Stand:} Geöffnete Administrationsseite
        \\ \textbf{Aktion:} Auf \enquote{Ressourcen anzeigen}-Knopf klicken
        \\ \textbf{Reaktion:} Auf der Adminseite werden die aktuell genutzten Ressourcen angezeigt
\end{enumerate}


\section{Testszenarien}

\subsection*{\gls{Workflow Schablone} erstellen}
\begin{itemize}
    \item Ein \Gls{Nutzer} meldet sich an und bekommt die Startseite angezeigt
    \item Der \Gls{Nutzer} navigiert zur Workflowübersicht und bekommt alle Workflows angezeigt
    \item Der \gls{Nutzer} klickt auf den \enquote{Neuen Workflow erstellen}-Knopf und bekommt den \enquote{Workflow erstellen}-Dialog angezeigt
\end{itemize}

\subsection*{\gls{Workflow} erstellen und ausführen}
\begin{itemize}
    \item Ein \Gls{Nutzer} meldet sich an und bekommt die Startseite angezeigt
    \item Der \Gls{Nutzer} navigiert zur Workflowübersicht und bekommt alle \glspl{Workflow Schablone} angezeigt
    \item Der \gls{Nutzer} wählt einen \gls{Workflow Schablone} aus
    \item Der \gls{Nutzer} erstellt aus dem \gls{Workflow Schablone} eine neue \gls{Workflow} 
    \item Der \gls{Nutzer} befüllt die Parameter der \gls{Workflow}
    \item Der \gls{Nutzer} startet die \gls{Workflow}
    \item Der \gls{Nutzer} meldet sich ab
\end{itemize}

\newpage
\subsection*{\gls{Workflow} überprüfen}
\begin{itemize}
    \item Ein \Gls{Reviewer} meldet sich an und bekommt die Startseite angezeigt
    \item Der \Gls{Reviewer} navigiert zur Workflowübersicht und bekommt alle \glspl{Workflow} angezeigt
    \item Der \Gls{Reviewer} wählt eine laufende \gls{Workflow} aus und bekommt den Status der \gls{Workflow} und ausgewählte Kennwerte angezeigt
    \item Der \gls{Reviewer} meldet sich ab
\end{itemize}

\subsection*{\gls{Workflow Schablone} exportieren und importieren}
\begin{itemize}
    \item Ein \gls{Nutzer} meldet sich an und bekommt die Startseite angezeigt
    \item Der \gls{Nutzer} navigiert zur Workflowübersicht und bekommt alle Workflows angezeigt
    \item Der \gls{Nutzer} wählt einen der \glspl{Workflow Schablone} aus und klickt auf den \enquote{Exportieren}-Knopf. Eine .yml oder .json-Datei wird heruntergeladen
    \item Der \gls{Nutzer} klickt auf den \enquote{Neuen Workflow erstellen}-Knopf und bekommt den \enquote{Worflow erstellen}-Dialog angezeigt
    \item Der \gls{Nutzer} lädt eine .yml oder .json-Datei, die einen \gls{Workflow Schablone} beschreibt, hoch und der neue \gls{Workflow Schablone} wird erstellt
    \item Der \gls{Nutzer} meldet sich ab
\end{itemize}
\newpage
\subsection*{\gls{Workflow} exportieren}
\begin{itemize}
    \item Ein \gls{Nutzer} meldet sich an und bekommt die Startseite angezeigt
    \item Der \gls{Nutzer} navigiert zur Workflowübersicht und bekommt alle Workflows angezeigt
    \item Der \gls{Nutzer} wählt eine der \glspl{Workflow} aus und klickt auf den \enquote{Exportieren}-Knopf. Eine .yml oder .json-Datei wird heruntergeladen und die für die \gls{Workflow} verwendeten Parameter sowie die erzeugten Log-Dateien
    \item Der \gls{Nutzer} meldet sich ab
\end{itemize}

\subsection*{Ergebnisse einer \gls{Workflow} einsehen}
\begin{itemize}
    \item Ein \gls{Nutzer} meldet sich an und bekommt die Startseite angezeigt
    \item Der \gls{Nutzer} navigiert zur Workflowübersicht und bekommt alle Workflows angezeigt
    \item Der \gls{Nutzer} wählt eine abgeschlossene \gls{Workflow} aus und bekommt eine Übersicht der ausgewählten \gls{Workflow} angezeigt
    \item Der \gls{Nutzer} lädt sich die Ergebnisse der \gls{Workflow} herunter
    \item Der \gls{Nutzer} meldet sich ab
\end{itemize}


 \newpage
\subsection*{Registrierung}
\begin{itemize}
    \item Ein neuer Benutzer ruft die Weboberfläche auf und bekommt die Login-Seite angezeigt
    \item Der neue Benutzer navigiert zur Registrierung
    \item Der neue Benutzer füllt das Registrierungsformular mit seinen Daten aus und gibt sein Passwort ein
    \item Der neue Benutzer schickt das Formular ab und gelangt zurück auf die Login-Seite
    \item Der neue Benutzer wartet auf die Freischaltung des neuen Kontos durch einen Administrator
    \item Der neue Benutzer meldet sich mit seinem neuen \Gls{Reviewer}konto an %Oder ist es seinem neuem?
\end{itemize}

\subsection*{Nutzerverwaltung}
\begin{itemize}
    \item Ein \Gls{Admin} meldet sich an und bekommt die Startseite angezeigt
    \item Der \Gls{Admin} navigiert zur Benutzerverwaltung
    \item Der \Gls{Admin} bekommt alle Nutzerkonten und ihre Rollen angezeigt
    \item Der \Gls{Admin} wählt ein Konto aus und ändert dessen Rolle von \Gls{Reviewer} zu \Gls{Admin}
    \item Der \Gls{Admin} wählt ein anderes Konto aus und setzt dessen Passwort zurück
    \item Der \Gls{Admin} wählt einen noch nicht freigeschalteten Nutzer aus und schaltet ihn frei
    \item Der \Gls{Admin} meldet sich ab
\end{itemize}


\subsection*{Hinzufügen von Computation Targets}
\begin{itemize}
    \item Ein \Gls{Admin} meldet sich an und ruft die Startseite auf
    \item Der \Gls{Admin} navigiert zur Serververwaltung
    \item Der \gls{Admin} fügt einen neuen Worker zum worker pool hinzu
    \item Der \gls{Admin} meldet sich ab
\end{itemize}
